{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACvB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 172, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/roast-student-flow.ts"],"sourcesContent":["\n'use server';\n/**\n * @fileOverview An AI flow to generate a humorous roast for a student.\n *\n * - roastStudent - A function that generates a roast based on student profile data.\n * - RoastStudentInput - The input type for the roastStudent function.\n * - RoastStudentOutput - The return type for the roastStudent function.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'zod';\nimport type { Student } from '@/types';\n\n// We only need a subset of the student data for the roast.\nconst RoastStudentInputSchema = z.object({\n  name: z.string(),\n  nickname: z.string().optional(),\n  best_level: z.string(),\n  worst_level: z.string(),\n  favourite_lecturer: z.string(),\n  relationship_status: z.string(),\n  alternative_career: z.string(),\n  best_experience: z.string(),\n  worst_experience: z.string(),\n  will_miss: z.string(),\n});\nexport type RoastStudentInput = z.infer<typeof RoastStudentInputSchema>;\n\nconst RoastStudentOutputSchema = z.object({\n  roast: z.string().describe('A short, witty, and humorous roast of the student. It should be light-hearted and funny, not mean-spirited. Should be 1-3 sentences.'),\n});\nexport type RoastStudentOutput = z.infer<typeof RoastStudentOutputSchema>;\n\nexport async function roastStudent(input: Student): Promise<RoastStudentOutput> {\n  // Map the full Student object to the schema the flow expects\n  const flowInput: RoastStudentInput = {\n    name: input.name,\n    nickname: input.nickname,\n    best_level: input.best_level,\n    worst_level: input.worst_level,\n    favourite_lecturer: input.favourite_lecturer,\n    relationship_status: input.relationship_status,\n    alternative_career: input.alternative_career,\n    best_experience: input.best_experience,\n    worst_experience: input.worst_experience,\n    will_miss: input.will_miss,\n  };\n  return roastStudentFlow(flowInput);\n}\n\nconst prompt = ai.definePrompt({\n  name: 'roastStudentPrompt',\n  input: { schema: RoastStudentInputSchema },\n  output: { schema: RoastStudentOutputSchema },\n  prompt: `You are a witty AI comedian known for your clever and light-hearted roasts. Your task is to roast a student based on their profile. The roast should be funny and clever, but not genuinely mean or insulting. It's for a fun yearbook-style feature.\n\nKeep the roast to 1-3 sentences.\n\nHere is the student's profile:\n- Name: {{{name}}}\n- Nickname: {{{nickname}}}\n- Best Level: {{{best_level}}}\n- Worst Level: {{{worst_level}}}\n- Favourite Lecturer: {{{favourite_lecturer}}}\n- Relationship Status: {{{relationship_status}}}\n- If not Computing, they'd be a: {{{alternative_career}}}\n- Best Experience: {{{best_experience}}}\n- Worst Experience: {{{worst_experience}}}\n- Will miss: {{{will_miss}}}\n\nGenerate a roast based on these details. Focus on the most interesting or contradictory parts. For example, if their best level was their final year, you could joke about them finally figuring things out. If their alternative career is very different from computing, that's a good target.\n`,\n});\n\nconst roastStudentFlow = ai.defineFlow(\n  {\n    name: 'roastStudentFlow',\n    inputSchema: RoastStudentInputSchema,\n    outputSchema: RoastStudentOutputSchema,\n  },\n  async (input) => {\n    const { output } = await prompt(input);\n    return output!;\n  }\n);\n"],"names":[],"mappings":";;;;;;IAkCsB,eAAA,WAAA,GAAA,CAAA,GAAA,sNAAA,CAAA,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,kKAAA,CAAA,OAAoB;AAEnC,MAAM,gBAAgB,kKAAA,CAAA,UAAuB;AAE7C,MAAM,eAAe,kKAAA,CAAA,SAAsB;AAE3C,MAAM,cAAc,kKAAA,CAAA,QAAqB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG,kKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,kKAAA,CAAA,UAAuB;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,8OAAC,kKAAA,CAAA,QAAqB;wBAAC,WAAU;;0CAC/B,8OAAC,4LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,kKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,kKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,kKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 317, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/fyb-students/%5Bid%5D/page.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useRef } from 'react';\nimport { usePathname, useRouter } from 'next/navigation';\nimport Image from 'next/image';\nimport { useAppContext } from '@/contexts/AppContext';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { ArrowLeft, User, Heart, Mic, Trophy, ThumbsDown, Briefcase, Smile, Frown, Send, Flame, Loader2, Download, X } from 'lucide-react';\nimport { roastStudent, RoastStudentOutput } from '@/ai/flows/roast-student-flow';\nimport type { Student } from '@/types';\nimport { useToast } from '@/hooks/use-toast';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n  DialogFooter,\n} from '@/components/ui/dialog';\n\ninterface DetailItemProps {\n  icon: React.ElementType;\n  label: string;\n  value: string | string[] | null | undefined;\n}\n\nconst DetailItem: React.FC<DetailItemProps> = ({ icon: Icon, label, value }) => {\n  if (!value || (Array.isArray(value) && value.length === 0)) return null;\n  const displayValue = Array.isArray(value) ? value.join(', ') : value;\n  return (\n    <div className=\"flex items-start space-x-4 py-3\">\n      <Icon className=\"h-6 w-6 text-primary mt-1 flex-shrink-0\" />\n      <div>\n        <p className=\"text-sm font-semibold text-muted-foreground uppercase tracking-wider\">{label}</p>\n        <p className=\"text-md text-foreground font-body\">{`\"${displayValue}\"`}</p>\n      </div>\n    </div>\n  );\n};\n\n\nexport default function StudentDetailPage() {\n  const pathname = usePathname();\n  const router = useRouter();\n  const { students, logos } = useAppContext();\n  const { toast } = useToast();\n  \n  const segments = pathname.split('/');\n  const studentId = segments[segments.length - 1];\n\n  const student = students.find(s => s.id === studentId);\n\n  const [isRoasting, setIsRoasting] = useState(false);\n  const [roastResult, setRoastResult] = useState<RoastStudentOutput | null>(null);\n  const [isRoastDialogOpen, setIsRoastDialogOpen] = useState(false);\n  const [isDownloading, setIsDownloading] = useState(false);\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n\n  const handleRoastMe = async () => {\n    if (!student) return;\n    setIsRoasting(true);\n    setIsRoastDialogOpen(true);\n    try {\n      const result = await roastStudent(student);\n      setRoastResult(result);\n    } catch (error) {\n      console.error(\"Error roasting student:\", error);\n      toast({\n        title: \"Roast Failed\",\n        description: \"The AI is taking a coffee break. Please try again later.\",\n        variant: \"destructive\",\n      });\n      setIsRoastDialogOpen(false);\n    } finally {\n      setIsRoasting(false);\n    }\n  };\n\n  const drawOnCanvas = (roast: RoastStudentOutput) => {\n    const canvas = canvasRef.current;\n    const ctx = canvas?.getContext('2d');\n    if (!canvas || !ctx) return;\n\n    const background = new (window.Image)();\n    background.crossOrigin = \"Anonymous\";\n    background.src = logos.roastBackground || 'https://placehold.co/1080x1080.png';\n\n    background.onload = () => {\n        canvas.width = 1080;\n        canvas.height = 1080;\n\n        // Background\n        ctx.drawImage(background, 0, 0, canvas.width, canvas.height);\n        \n        // Overlay\n        ctx.fillStyle = \"rgba(0, 0, 0, 0.5)\";\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n        // Text\n        ctx.fillStyle = \"white\";\n        ctx.textAlign = \"center\";\n        \n        // Title\n        ctx.font = \"bold 72px Poppins, sans-serif\";\n        ctx.fillText(\"You've Been Roasted!\", canvas.width / 2, 180);\n\n        // Roast Text\n        ctx.font = \"48px Poppins, sans-serif\";\n        const roastLines = wrapText(ctx, roast.roast, 900);\n        let y = 300;\n        roastLines.forEach(line => {\n            ctx.fillText(line, canvas.width / 2, y);\n            y += 60;\n        });\n\n        // Student Name\n        ctx.font = \"italic 36px Poppins, sans-serif\";\n        ctx.fillText(`- The Cyber Clan Roaster on ${student.name}`, canvas.width / 2, canvas.height - 100);\n\n        const dataUrl = canvas.toDataURL('image/png');\n        const link = document.createElement('a');\n        link.href = dataUrl;\n        link.download = `roast_${student.name.toLowerCase().replace(/\\s+/g, '_')}.png`;\n        link.click();\n        setIsDownloading(false);\n    };\n     background.onerror = () => {\n        setIsDownloading(false);\n        toast({\n            title: 'Error loading background',\n            description: 'Could not load the roast background image.',\n            variant: 'destructive',\n        });\n    };\n  }\n\n  const handleDownload = () => {\n      if (!roastResult) return;\n      setIsDownloading(true);\n      drawOnCanvas(roastResult);\n  };\n  \n  function wrapText(context: CanvasRenderingContext2D, text: string, maxWidth: number) {\n      const words = text.split(' ');\n      let lines: string[] = [];\n      let currentLine = words[0];\n\n      for (let i = 1; i < words.length; i++) {\n          const word = words[i];\n          const width = context.measureText(currentLine + \" \" + word).width;\n          if (width < maxWidth) {\n              currentLine += \" \" + word;\n          } else {\n              lines.push(currentLine);\n              currentLine = word;\n          }\n      }\n      lines.push(currentLine);\n      return lines;\n  }\n\n  if (!student) {\n    return (\n      <div className=\"flex flex-col items-center justify-center min-h-screen p-4\">\n        <h1 className=\"text-2xl font-headline text-destructive mb-4\">Student Not Found</h1>\n        <Button onClick={() => router.push('/fyb-students')}>\n          <ArrowLeft className=\"mr-2 h-4 w-4\" /> Back to Student List\n        </Button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-background to-secondary/20 p-4 sm:p-8\">\n      <header className=\"container mx-auto max-w-7xl mb-6 flex justify-between items-center\">\n        <Button variant=\"outline\" onClick={() => router.back()}>\n          <ArrowLeft className=\"mr-2 h-4 w-4\" /> Back to Clan\n        </Button>\n         <Button onClick={handleRoastMe} disabled={isRoasting} className=\"bg-destructive hover:bg-destructive/90\">\n            {isRoasting ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <Flame className=\"mr-2 h-4 w-4\" />}\n            Roast Me!\n        </Button>\n      </header>\n\n      <main className=\"container mx-auto max-w-7xl\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start\">\n          \n          {/* Left Column */}\n          <div className=\"lg:col-span-1 space-y-8\">\n            <Card className=\"shadow-lg rounded-xl\">\n              <CardContent className=\"p-6 divide-y divide-border/50\">\n                 <DetailItem icon={Trophy} label=\"Best Level\" value={student.best_level} />\n                 <DetailItem icon={ThumbsDown} label=\"Worst Level\" value={student.worst_level} />\n                 <DetailItem icon={Mic} label=\"Favourite Lecturer\" value={student.favourite_lecturer} />\n              </CardContent>\n            </Card>\n             <Card className=\"shadow-lg rounded-xl\">\n              <CardContent className=\"p-6 divide-y divide-border/50\">\n                 <DetailItem icon={Heart} label=\"Relationship Status\" value={student.relationship_status} />\n                 <DetailItem icon={Briefcase} label=\"If not Computing, then what?\" value={student.alternative_career} />\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Center Column (Image) */}\n          <div className=\"lg:col-span-1 flex flex-col items-center space-y-4\">\n             <div className=\"relative w-full aspect-square rounded-lg overflow-hidden shadow-2xl border-4 border-card\">\n              {student.image_src ? (\n                <Image\n                  src={student.image_src}\n                  alt={student.name}\n                  layout=\"fill\"\n                  objectFit=\"cover\"\n                  unoptimized\n                  data-ai-hint=\"student portrait\"\n                />\n              ) : (\n                <div className=\"w-full h-full flex items-center justify-center bg-muted\">\n                  <User className=\"w-24 h-24 text-muted-foreground\" />\n                </div>\n              )}\n            </div>\n            <div className=\"text-center\">\n              <h1 className=\"text-4xl md:text-5xl font-headline text-primary font-bold tracking-tight\">{student.name}</h1>\n              {student.nickname && student.nickname.toLowerCase() !== 'non' && (\n                <p className=\"text-xl md:text-2xl text-muted-foreground font-body mt-2\">\"{student.nickname}\"</p>\n              )}\n            </div>\n          </div>\n          \n          {/* Right Column */}\n          <div className=\"lg:col-span-1 space-y-8\">\n            <Card className=\"shadow-lg rounded-xl\">\n              <CardContent className=\"p-6 divide-y divide-border/50\">\n                <DetailItem icon={Smile} label=\"Best Experience in FUL\" value={student.best_experience} />\n                <DetailItem icon={Frown} label=\"Worst Experience in FUL\" value={student.worst_experience} />\n                <DetailItem icon={Send} label=\"What will you miss after FUL?\" value={student.will_miss} />\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </main>\n\n      {/* Roast Dialog */}\n       <Dialog open={isRoastDialogOpen} onOpenChange={setIsRoastDialogOpen}>\n        <DialogContent className=\"max-w-md\">\n          <DialogHeader>\n            <DialogTitle className=\"text-center text-2xl font-headline text-destructive flex items-center justify-center\">\n                <Flame className=\"mr-2 h-6 w-6\"/> You've Been Roasted!\n            </DialogTitle>\n            <DialogDescription className=\"text-center\">\n              Courtesy of the Cyber Clan Roasting AI.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"py-4 text-center\">\n            {isRoasting ? (\n              <div className=\"space-y-4\">\n                <Loader2 className=\"h-8 w-8 animate-spin text-primary mx-auto\" />\n                <p className=\"text-muted-foreground\">The AI is sharpening its wit...</p>\n              </div>\n            ) : roastResult ? (\n              <p className=\"text-lg font-body\">{roastResult.roast}</p>\n            ) : (\n                <p className=\"text-destructive\">Something went wrong. Please try again.</p>\n            )}\n          </div>\n          <DialogFooter className=\"sm:justify-between gap-2\">\n             <Button variant=\"outline\" onClick={() => setIsRoastDialogOpen(false)}>\n                <X className=\"mr-2 h-4 w-4\" /> Close\n              </Button>\n            {!isRoasting && roastResult && logos.roastBackground && (\n                <Button onClick={handleDownload} disabled={isDownloading}>\n                    {isDownloading ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\"/> : <Download className=\"mr-2 h-4 w-4\" />}\n                    Download Roast\n                </Button>\n            )}\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Hidden canvas for image generation */}\n      <canvas ref={canvasRef} style={{ display: 'none' }}></canvas>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}